.Dd Jun 7, 2018
.Dt SEARCHFS 1
.Os Darwin
.Sh NAME
.Nm searchfs
.Nd fast filename search on HFS+ and APFS volumes
.Sh SYNOPSIS
.Nm
.Op Fl dfeh
.Op Fl v Ar mount_point
.Ar search_term
.Sh DESCRIPTION
.Nm
does filename search on HFS+ and APFS volumes. Searching takes place
at the driver level using the file system catalog via the low-level
searchfs() function. This means the volume's entire directory tree can
be scanned much faster than with a standard recursive directory search
using e.g. find.
.Pp
Paths of files and directories with names containing search_term are printed
to STDOUT, one path per line. Search is case-insensitive by default
.Pp
The following flags are supported:
.Bl -tag -width -indent
.It Fl v, -volume
Specify volume to search. Default is the root file system at /.
.It Fl d, -dirs-only
Return only matching directories.
.It Fl f, -files-only
Return only matching files.
.It Fl e, -exact-match-only
Return only exact filename matches.
.It Fl s, -case-sensitive
Case sensitive matching (involves postprocessing with regular expressions).
.It Fl h, -help
Print usage and exit.
.El
.Sh EXAMPLES
Find directories with name matching 'something' on root volume:
.Pp
.Dl searchfs -d "something"
.Pp
Find file with the exact name 'file.txt' on volume 'SomeHD':
.Pp
.Dl searchfs -v "/Volumes/SomeHD" -e "file.txt"
.Pp
List all files on the root volume (empty string matches everything):
.Pp
.Dl searchfs ''
.Pp
And so on and so forth...
.Pp
.Sh SEE ALSO
.Xr find 1 ,
.Xr locate 1 ,
.Xr mdfind 1 ,
.Xr searchfs 2
.Sh AUTHORS
.An Sveinbjorn Thordarson <sveinbjorn@sveinbjorn.org>
